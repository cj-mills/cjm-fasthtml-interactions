# Master-Detail


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

## Detail Item Definition

The
[`DetailItem`](https://cj-mills.github.io/cjm-fasthtml-interactions/patterns/master_detail.html#detailitem)
class defines a single item in the master list. Each item has: - Unique
identifier - Display label for the master list - Render function that
generates the detail view UI - Optional badge text and color - Optional
icon - Optional data loader for fetching required data

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-fasthtml-interactions/blob/main/cjm_fasthtml_interactions/patterns/master_detail.py#L38"
target="_blank" style="float:right; font-size:smaller">source</a>

### DetailItem

>  DetailItem (id:str, label:str, render:Callable[[cjm_fasthtml_interactions
>                  .core.context.InteractionContext],Any],
>                  badge_text:Optional[str]=None,
>                  badge_color:Optional[str]=None, icon:Optional[Any]=None,
>                  data_loader:Optional[Callable[[Any],Dict[str,Any]]]=None,
>                  load_on_demand:bool=True)

*Definition of a single item in the master-detail pattern.*

## Detail Item Group Definition

The
[`DetailItemGroup`](https://cj-mills.github.io/cjm-fasthtml-interactions/patterns/master_detail.html#detailitemgroup)
class groups related items in a collapsible section. Each group has: -
Unique identifier - Display title - List of items in the group -
Collapsible state control - Optional icon

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-fasthtml-interactions/blob/main/cjm_fasthtml_interactions/patterns/master_detail.py#L52"
target="_blank" style="float:right; font-size:smaller">source</a>

### DetailItemGroup

>  DetailItemGroup (id:str, title:str, items:List[__main__.DetailItem],
>                       default_open:bool=True, icon:Optional[Any]=None,
>                       badge_text:Optional[str]=None,
>                       badge_color:Optional[str]=None)

*Group of related detail items in a collapsible section.*

## MasterDetail Class

The
[`MasterDetail`](https://cj-mills.github.io/cjm-fasthtml-interactions/patterns/master_detail.html#masterdetail)
class manages a responsive master-detail interface. It: - Renders master
list (sidebar) with items and optional groups - Manages active item
selection - Renders detail content for selected item - Supports badges
and status indicators - Supports hierarchical grouping with collapsible
sections - **Responsive design**: Drawer toggleable on mobile, always
visible on desktop (lg+) - **Mobile-friendly**: Includes hamburger menu
button for navigation - Generates routes automatically - Provides OOB
updates for coordinated UI changes

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-fasthtml-interactions/blob/main/cjm_fasthtml_interactions/patterns/master_detail.py#L64"
target="_blank" style="float:right; font-size:smaller">source</a>

### MasterDetail

>  MasterDetail (interface_id:str,
>                    items:List[Union[__main__.DetailItem,__main__.DetailItemGro
>                    up]], default_item:Optional[str]=None,
>                    container_id:str='master-detail-container',
>                    master_id:str='master-detail-master',
>                    detail_id:str='master-detail-detail',
>                    master_width:str='w-64', master_title:Optional[str]=None,
>                    show_on_htmx_only:bool=False)

*Manage master-detail interfaces with sidebar navigation and detail
content area.*

<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 25%" />
<col style="width: 34%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>interface_id</td>
<td>str</td>
<td></td>
<td>Unique identifier for this interface</td>
</tr>
<tr>
<td>items</td>
<td>List</td>
<td></td>
<td>List of items/groups</td>
</tr>
<tr>
<td>default_item</td>
<td>Optional</td>
<td>None</td>
<td>Default item ID (defaults to first item)</td>
</tr>
<tr>
<td>container_id</td>
<td>str</td>
<td>master-detail-container</td>
<td>HTML ID for container</td>
</tr>
<tr>
<td>master_id</td>
<td>str</td>
<td>master-detail-master</td>
<td>HTML ID for master list</td>
</tr>
<tr>
<td>detail_id</td>
<td>str</td>
<td>master-detail-detail</td>
<td>HTML ID for detail area</td>
</tr>
<tr>
<td>master_width</td>
<td>str</td>
<td>w-64</td>
<td>Tailwind width class for master list</td>
</tr>
<tr>
<td>master_title</td>
<td>Optional</td>
<td>None</td>
<td>Optional title for master list</td>
</tr>
<tr>
<td>show_on_htmx_only</td>
<td>bool</td>
<td>False</td>
<td>Whether to show full interface for non-HTMX requests</td>
</tr>
</tbody>
</table>

## Item Management Methods

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-fasthtml-interactions/blob/main/cjm_fasthtml_interactions/patterns/master_detail.py#L108"
target="_blank" style="float:right; font-size:smaller">source</a>

### MasterDetail.get_item

>  MasterDetail.get_item (item_id:str)

*Get item by ID.*

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>item_id</td>
<td>str</td>
<td>Item identifier</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>Optional</strong></td>
<td><strong>DetailItem or None</strong></td>
</tr>
</tbody>
</table>

## Context and Rendering Methods

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-fasthtml-interactions/blob/main/cjm_fasthtml_interactions/patterns/master_detail.py#L116"
target="_blank" style="float:right; font-size:smaller">source</a>

### MasterDetail.create_context

>  MasterDetail.create_context (request:Any, sess:Any,
>                                   item:__main__.DetailItem)

*Create interaction context for an item.*

<table>
<colgroup>
<col style="width: 9%" />
<col style="width: 38%" />
<col style="width: 52%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>request</td>
<td>Any</td>
<td>FastHTML request object</td>
</tr>
<tr>
<td>sess</td>
<td>Any</td>
<td>FastHTML session object</td>
</tr>
<tr>
<td>item</td>
<td>DetailItem</td>
<td>Current item</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>InteractionContext</strong></td>
<td><strong>Interaction context for rendering</strong></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-fasthtml-interactions/blob/main/cjm_fasthtml_interactions/patterns/master_detail.py#L136"
target="_blank" style="float:right; font-size:smaller">source</a>

### MasterDetail.render_master

>  MasterDetail.render_master (active_item_id:str,
>                                  item_route_func:Callable[[str],str],
>                                  include_wrapper:bool=True)

*Render master list (sidebar) with items and groups.*

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>active_item_id</td>
<td>str</td>
<td></td>
<td>Currently active item ID</td>
</tr>
<tr>
<td>item_route_func</td>
<td>Callable</td>
<td></td>
<td>Function to generate item route</td>
</tr>
<tr>
<td>include_wrapper</td>
<td>bool</td>
<td>True</td>
<td>Whether to include outer wrapper div</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>FT</strong></td>
<td></td>
<td><strong>Master list element</strong></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-fasthtml-interactions/blob/main/cjm_fasthtml_interactions/patterns/master_detail.py#L334"
target="_blank" style="float:right; font-size:smaller">source</a>

### MasterDetail.render_master_oob

>  MasterDetail.render_master_oob (active_item_id:str,
>                                      item_route_func:Callable[[str],str])

*Render master list with OOB swap attribute for coordinated updates.*

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>active_item_id</td>
<td>str</td>
<td>Currently active item ID</td>
</tr>
<tr>
<td>item_route_func</td>
<td>Callable</td>
<td>Function to generate item route</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>FT</strong></td>
<td><strong>Master list with OOB swap attribute</strong></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-fasthtml-interactions/blob/main/cjm_fasthtml_interactions/patterns/master_detail.py#L349"
target="_blank" style="float:right; font-size:smaller">source</a>

### MasterDetail.render_detail

>  MasterDetail.render_detail (item:__main__.DetailItem,
>                                  ctx:cjm_fasthtml_interactions.core.context.In
>                                  teractionContext)

*Render detail content for an item.*

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>item</td>
<td>DetailItem</td>
<td>Item to render</td>
</tr>
<tr>
<td>ctx</td>
<td>InteractionContext</td>
<td>Interaction context</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>FT</strong></td>
<td><strong>Detail content</strong></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-fasthtml-interactions/blob/main/cjm_fasthtml_interactions/patterns/master_detail.py#L358"
target="_blank" style="float:right; font-size:smaller">source</a>

### MasterDetail.render_full_interface

>  MasterDetail.render_full_interface (active_item_id:str,
>                                          item_route_func:Callable[[str],str],
>                                          request:Any, sess:Any)

*Render complete responsive master-detail interface with drawer for
mobile.*

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>active_item_id</td>
<td>str</td>
<td>Currently active item ID</td>
</tr>
<tr>
<td>item_route_func</td>
<td>Callable</td>
<td>Function to generate item route</td>
</tr>
<tr>
<td>request</td>
<td>Any</td>
<td>FastHTML request object</td>
</tr>
<tr>
<td>sess</td>
<td>Any</td>
<td>FastHTML session object</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>FT</strong></td>
<td><strong>Complete master-detail interface</strong></td>
</tr>
</tbody>
</table>

## Route Generation

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-fasthtml-interactions/blob/main/cjm_fasthtml_interactions/patterns/master_detail.py#L476"
target="_blank" style="float:right; font-size:smaller">source</a>

### MasterDetail.create_router

>  MasterDetail.create_router (prefix:str='')

*Create FastHTML router with generated routes for this master-detail
interface.*

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>prefix</td>
<td>str</td>
<td></td>
<td>URL prefix for routes (e.g., “/media”)</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>APIRouter</strong></td>
<td></td>
<td><strong>APIRouter with generated routes</strong></td>
</tr>
</tbody>
</table>

## Usage Example

Here’s a complete example showing how to create a master-detail
interface:

**Note:** The interface is automatically responsive: - **Mobile (\<
lg):** Master list hidden in a drawer with hamburger menu toggle -
**Desktop (≥ lg):** Master list always visible as a sidebar

``` python
# Example: Simple file browser with groups
from fasthtml.common import Div, H2, P, H3, Ul, Li

# Define render functions for each item
def render_file_overview(ctx: InteractionContext):
    """Render file details."""
    file_data = ctx.get_data("file", {})
    return Div(
        H2(f"File: {file_data.get('name', 'Unknown')}"),
        P(f"Size: {file_data.get('size', 0)} bytes"),
        P(f"Modified: {file_data.get('modified', 'N/A')}")
    )

def render_folder_overview(ctx: InteractionContext):
    """Render folder contents."""
    folder_data = ctx.get_data("folder", {})
    return Div(
        H2(f"Folder: {folder_data.get('name', 'Unknown')}"),
        P(f"Items: {folder_data.get('item_count', 0)}"),
        H3("Contents:"),
        Ul(*[Li(item) for item in folder_data.get('items', [])])
    )

# Optional data loaders
def load_file_data(request):
    """Load file metadata."""
    return {
        "file": {
            "name": "document.txt",
            "size": 1024,
            "modified": "2025-01-15"
        }
    }

def load_folder_data(request):
    """Load folder contents."""
    return {
        "folder": {
            "name": "Documents",
            "item_count": 3,
            "items": ["file1.txt", "file2.pdf", "file3.doc"]
        }
    }

# Create the master-detail interface with groups
file_browser = MasterDetail(
    interface_id="file_browser",
    master_title="File Browser",
    items=[
        DetailItemGroup(
            id="documents",
            title="Documents",
            items=[
                DetailItem(
                    id="doc1",
                    label="document.txt",
                    render=render_file_overview,
                    data_loader=load_file_data,
                    badge_text="1KB",
                    badge_color=badge_colors.info
                ),
                DetailItem(
                    id="doc2",
                    label="report.pdf",
                    render=render_file_overview,
                    badge_text="2KB",
                    badge_color=badge_colors.info
                )
            ],
            badge_text="2 files"
        ),
        DetailItemGroup(
            id="media",
            title="Media",
            items=[
                DetailItem(
                    id="img1",
                    label="photo.jpg",
                    render=render_file_overview,
                    badge_text="512KB",
                    badge_color=badge_colors.warning
                )
            ],
            badge_text="1 file"
        ),
        DetailItem(
            id="root_folder",
            label="All Files",
            render=render_folder_overview,
            data_loader=load_folder_data,
            badge_text="3 items",
            badge_color=badge_colors.success
        )
    ]
)

# Generate router
browser_router = file_browser.create_router(prefix="/files")

# In your FastHTML app, register the router:
# from cjm_fasthtml_app_core.core.routing import register_routes
# register_routes(app, browser_router)
#
# Or directly:
# browser_router.to_app(app)
```

``` python
# Test master-detail structure
print(f"Interface has {len(file_browser.item_index)} items")
print(f"Default item: {file_browser.default_item}")
print(f"Item IDs: {list(file_browser.item_index.keys())}")
print(f"Master width: {file_browser.master_width}")
```

    Interface has 4 items
    Default item: doc1
    Item IDs: ['doc1', 'doc2', 'img1', 'root_folder']
    Master width: w-64
